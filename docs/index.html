<!DOCTYPE html>
<html>
  <head>
    <title>JSR ã®ç´¹ä»‹</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
    <meta property="og:title" content="JSR ã®ç´¹ä»‹"/>
    
    <meta property="og:image" content="https://kt3k.github.io/talk_jsr/assets/og-image.png"/>
    
    <meta property="og:image:width" content="959"/>
    
    
    <meta property="og:image:height" content="626"/>
    
    
    
    <meta property="og:description" content="JSR ã®ç´¹ä»‹" />
    
    
    <meta name="twitter:creator" content="@kt3k"/>
    
    
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://kt3k.github.io/talk_jsr/assets/og-image.png" />
    
    
    <link rel="icon" href="./assets/logo.svg" type="image/svg+xml" />
    
    
    <style type="text/css">
      body {
  font-family: 'Avenir Next', 'Hiragino Kaku Gothic ProN', 'Meiryo', 'ãƒ¡ã‚¤ãƒªã‚ª', sans-serif;
  font-weight: bold;
}
h1, h2, h3 {
  font-weight: bold;
}
.remark-code,
.remark-inline-code {
  font-family: 'Menlo', 'Monaco', 'Courier new', monospace;
}

code.remark-code {
  display: block;
  padding: 0.7em;
  border-radius: 5px;
  background-color: #272822;
  color: #f3f3f3;
  font-size: 23px;
}

.remark-slide-content {
  color: #24292e;
  font-size: 32px;
  padding: 15px 60px;
}

.remark-slide-content.inverse {
  color: #f3f3f3;
  background-color: #272822;
}

.remark-slide-number a {
  color: #24292e;
  text-decoration: none;
}

.inverse .remark-slide-number a {
  color: #f3f3f3;
}

.text-center {
  text-align: center;
}

.flex {
  display: flex;
}
.items-center {
  align-items: center;
}
.justify-center {
  justify-content: center;
}
.gap-2 {
  gap: 8px;
}
.text-4xl {
  font-size: 40px;
}

      @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(-360deg); } }
    </style>
  </head>
  <body>
    <textarea id="source" style="display: none">class: middle, center

<img src="./assets/logo.png" width="300" />

# JSR ã®ç´¹ä»‹

Yoshiya Hinosawa @kt3k

---
class: text-4xl

# Agenda

- JSR ã®ç‹™ã„
- JSR ã®ç‰¹å¾´

---

## è©±ã™äºº: Yoshiya Hinosawa @kt3k

<img src="./assets/hinosawa.jpg" width="180" />

- x.com: @kt3k
- github: @kt3k

Deno ã®ä¸­ã®äººã€‚ä¸»ã« Standard Library (deno_std) ã¨ Deno Deploy ã® UI ã‚’æ‹…å½“

---
# npm

- ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç•Œã®æœ€å¤§ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¬ã‚¸ã‚¹ãƒˆãƒª
- 250ä¸‡ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå­˜åœ¨

<img src="./assets/modulecounts.png" width="500" />


---
# npm is great!

---
class: middle, center inverse

# ã—ã‹ã—

---

# npm ã¯ãƒ¬ã‚¬ã‚·ãƒ¼

- ES6 ã‚‚ TS ã‚‚ç„¡ã„æ™‚ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã•ã‚ŒãŸãŸã‚å¤ããªã£ã¦ã„ã‚‹
- CommonJS ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  - CJS ã¨ ESM ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã® conditional exports
  - ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®šç¾©ãŒè¤‡é›‘ã€dual package è¾›ã„
- TypeScript ã«é–¢ã™ã‚‹ã‚µãƒãƒ¼ãƒˆãŒç„¡ã„
  - è‡ªå‰ã§ d.ts ã‚’ãƒ“ãƒ«ãƒ‰ or DefinitelyTyped ã‚’æ‰‹å‹•ã§ãƒ¡ãƒ³ãƒ† -> è¾›ã„

---
# npm ã®é–‹ç™ºã¯ä½èª¿(?)

- æ–°æ©Ÿèƒ½ãŒã‚ã¾ã‚Šè¿½åŠ ã•ã‚Œã¦ã„ãªã„
- npm ã¯2020å¹´ã« github ã«è²·åã•ã‚ŒãŸ
- è²·åç›´å‰ã«ä¸»è¦ãƒ¡ãƒ³ãƒãƒ¼ãŒ npm ã‚’å»ã£ãŸ
- Open Source ã§ã¯ç„¡ã„ã®ã§ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¼ä¸»ä½“ã§é–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ã‚‚å‡ºæ¥ãªã„

---

=> ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«é–¢ã™ã‚‹é©æ–°ãŒã“ã“æ•°å¹´æ­¢ã¾ã£ã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã‹?

--

=> TS ã¯ãƒ¡ã‚¤ãƒ³ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã®ã«ã€ŒTS ã§æ™®é€šã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ›¸ãã“ã¨ã€ãŒè¾›ã„ã®ã¯ãŠã‹ã—ã„ã®ã§ã¯?

--

=> ESM ã¨ TS ã‚’å‰æã¨ã—ãŸãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚’0ã‹ã‚‰è¨­è¨ˆã—ãŸã‚‰è‰¯ã„ã®ã§ã¯ãªã„ã‹?

---
class: middle center

# Introducing

<img src="./assets/logo.png" width="400" />

--

JSR = JavaScript Registry

---

# JSR ã®ç‰¹å¾´

- TypeScript ã‚’ç›´æ¥ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥å‡ºæ¥ã‚‹
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è§£æ±ºã¯ ESM ã ã‘ (CommonJS ã¯ç„¡ã—)
- npm ã¨äº’æ›æ€§ã‚ã‚Š
- è¤‡æ•°ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’æ„è­˜ã—ãŸä½œã‚Š
- å„ç¨® DX æ”¹å–„

---

# npn äº’æ›æ€§

- JSR ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ãˆã‚‹
- npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ JSR ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ãˆã‚‹

---

# npm äº’æ›æ€§

- JSR ã¯ npm ã¨ã¯åˆ¥ã®ä½•ã‹ã§ã¯ãªãã€npm ã®è³‡ç”£ã‚’æ´»ç”¨ã—ã¤ã¤æ‹¡å¼µã™ã‚‹ã‚‚ã® (ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆ)

<p class="text-center">
<img src="./assets/jsr-include-npm.png" width="500" />
</p>


---

# TypeScript ã‚µãƒãƒ¼ãƒˆ

- TypeScript ã‚’ç›´æ¥ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã§ãã‚‹
- ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ãŒä¸è¦
- d.ts ã¯ JSR ãŒè‡ªå‹•ç”Ÿæˆ
- TypeScript ã® doc ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ç”Ÿæˆ

--

<p class="text-center">
ã€Œã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ publish ã™ã‚‹ã ã‘ã€
</p>

---

# è¤‡æ•°ãƒ©ãƒ³ã‚¿ã‚¤ãƒ å‰æ

- ã‚µãƒãƒ¼ãƒˆã—ã¦ã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’ JSR ä¸Šã§è¨­å®šã§ãã‚‹

<p class="text-center">
<img src="./assets/runtime-supports.png" width="500" />
</p>

---
## æ”¹å–„ã•ã‚ŒãŸDX(ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæä¾›è€…ç›®ç·š)

- ãƒ“ãƒ«ãƒ‰ã—ãªãã¦è‰¯ã„
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«æ›¸ãã ã‘ã§è‰¯ã„

---
## æ”¹å–„ã•ã‚ŒãŸDX(ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåˆ©ç”¨è€…ç›®ç·š)

- å‹ãŒå£Šã‚Œã¦ã„ã‚‹äº‹ãŒç„¡ã„
- ä½•ãŒ export ã•ã‚Œã¦ã„ã‚‹ã‹å¿…ãšåˆ†ã‹ã‚‹
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚ã‚‹å¯èƒ½æ€§ãŒé«˜ã„
- ã©ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹åˆ†ã‹ã‚‹

---
### æ³¨æ„ç‚¹

- JSR ã¯ ESM ã—ã‹ã‚µãƒãƒ¼ãƒˆã—ãªã„
- CJS ã‚’ä½¿ã£ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚µãƒãƒ¼ãƒˆã§ããªã„

--
- CJS ã‹ã‚‰ã®åˆ©ç”¨ãŒçµ¶å¯¾å¿…è¦ãªäººã¯ã€Œã¾ã ã€ä½¿ã‚ãªã„ã»ã†ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“

--
- ãŸã ã— Node.js v22 ã§ require(ESM) ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹äºˆå®šãŒã‚ã‚‹
  - => require sync esm ã§æ¤œç´¢

---
class: middle center

# <p class="flex items-center justify-center gap-2">Let's try <img src="./assets/logo.png" width="180" /></p>

# https://jsr.io

--

ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ ğŸ™‡â€â™‚ï¸

</textarea>
    <div style="z-index: -1; position: fixed; display: flex; align-items: center; gap: 4px;">
      <svg style="animation: spin 1s linear infinite; width: 18px; height: 18px;" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-refresh" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" />
        <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" />
      </svg>
      <span>loading...</span>
    </div>
    <script src="remark.js"></script>
    
    <script>
      window.slideshow = remark.create({"slideNumberFormat":"JSR ã®ç´¹ä»‹ - %current% / %total%"})
    </script>
    
    <script>
      
      ;window.LiveReloadOptions = {
        host: 'localhost',
        port: '35729'
      };
    </script>
  </body>
</html>
